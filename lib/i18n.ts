import { useAgentStore } from '../store/agentStore';

type Language = 'en' | 'es';

const translations = {
  en: {
    // Sidebar
    dashboard: 'Dashboard',
    chat: 'Chat',
    scheduledTasks: 'Scheduled Tasks',
    settings: 'Settings',
    history: 'History',
    webAutomation: 'Web Automation',
    fileManager: 'File Manager',
    systemOperations: 'System Operations',
    voiceAgent: 'Voice Agent',
    autonomousStudio: 'Autonomous Studio',
    // Dashboard
    agentDashboard: 'Agent Dashboard',
    agentDashboardDesc: 'Real-time status of the Onwrk-AI agent team.',
    cpuUsage: 'CPU Usage',
    ramUsage: 'RAM Usage',
    llmPrefill: 'LLM Prefill',
    llmDecode: 'LLM Decode',
    systemPerformance: 'System Performance',
    // Agent Management
    addAgent: 'Add Agent',
    editAgent: 'Edit Agent',
    createAgent: 'Create Agent',
    saveChanges: 'Save Changes',
    deleteAgent: 'Delete Agent',
    addAgentDesc: 'Configure a new agent to join your team.',
    editAgentDesc: 'Update the agent\'s configuration.',
    agentName: 'Agent Name',
    agentNamePlaceholder: 'e.g., DataAnalystAgent',
    agentType: 'Agent Type',
    initialTask: 'Initial Task',
    initialTaskPlaceholder: 'e.g., Stand by for user instructions.',
    errorAgentType: 'Please select an agent type.',
    errorAgentName: 'Please enter a name for the agent.',
    errorAgentExists: (name: string) => `Agent with name '${name}' already exists.`,
    confirmDeleteAgent: (name: string) => `Are you sure you want to delete the agent "${name}"? This action cannot be undone.`,
    customGGUFModel: 'Custom GGUF Model (Optional)',
    ggufModelDesc: 'Assign a local GGUF model file for this agent to use.',
    uploadGGUF: 'Upload .gguf File',
    noFileSelected: 'No file selected',
    invalidFileType: 'Invalid file type. Please select a .gguf file.',
    model: 'Model',
    // Agent Deactivation
    deactivateAgent: 'Deactivate Agent',
    deactivateAgentDesc: 'Choose how long to deactivate the agent. It will not perform tasks while inactive.',
    deactivateFor: 'Deactivate for...',
    '15mins': '15 Minutes',
    '1hour': '1 Hour',
    '8hours': '8 Hours',
    '24hours': '24 Hours',
    indefinitely: 'Indefinitely',
    reactivatingIn: 'Reactivating in:',
    agentInactive: 'Agent is inactive.',
    reactivatedAutomatically: 'Reactivated automatically.',
    // Chat View
    agenChat: 'Agen Chat',
    agentMode: 'Agent Mode',
    dragAndDrop: 'Drag & drop a file or click to select',
    typeInstruction: 'Type your instruction here...',
    sendMessage: 'Send Message',
    image: 'Image',
    video: 'Video',
    audio: 'Audio',
    document: 'Document',
    cannotSendEmptyMessage: 'Cannot send an empty message.',
    toggleDeepReasoning: 'Toggle Deep Reasoning',
    deepReasoningActive: 'Deep Reasoning Active...',
    analyzingDeeply: '🧠 Onwrk-Agen is analyzing your request in depth...',
    toggleWebIntelligence: 'Toggle Web Intelligence',
    webIntelligenceActive: 'Web Intelligence Active...',
    // Assign Task Modal
    assignNewTask: 'Assign New Task',
    assignNewTaskDesc: 'Fill out the details below to create and schedule a new task for your agents.',
    createTask: 'Create Task',
    attachFiles: 'Attach Files',
    errorMandatoryFields: 'Please fill in the description and select at least one agent.',
    // Form Labels
    taskDescription: 'Task Description',
    taskDescriptionPlaceholder: 'e.g., Research Q3 earnings for competitor X and summarize findings.',
    selectAgents: 'Select Agents',
    priority: 'Priority',
    low: 'Low',
    medium: 'Medium',
    high: 'High',
    estimatedTime: 'Estimated Time',
    estimatedTimePlaceholder: 'e.g., 2 hours',
    startTask: 'Start Task',
    // Task Suggestions
    taskSuggestion: 'Task Suggestion',
    apiActionSuggestion: 'API Action Suggestion',
    webMissionSuggestion: 'Web Intelligence Mission',
    missionQuery: 'Mission Query',
    action: 'Action',
    service: 'Service',
    description: 'Description',
    agents: 'Agents',
    accept: 'Accept',
    reject: 'Reject',
    taskAccepted: 'Task accepted and added to schedule.',
    taskRejected: 'Task suggestion rejected.',
    // Deep Reasoning
    deepReasoning: 'Deep Reasoning',
    decomposingProblem: 'Decomposing Problem',
    evaluatingHypotheses: 'Evaluating Hypotheses',
    simulatingOutcomes: 'Simulating Outcomes',
    synthesizingSolution: 'Synthesizing Solution',
    objective: 'Objective',
    keyAssumptions: 'Key Assumptions',
    optionsEvaluated: 'Options Evaluated',
    recommendation: 'Recommendation',
    // Scheduled Tasks View
    scheduledTasksTitle: 'Scheduled Tasks',
    scheduledTasksDesc: 'Monitor and manage all automated agent tasks.',
    taskQueue: 'Task Queue',
    taskName: 'Task Name',
    assignedAgents: 'Assigned Agents',
    status: 'Status',
    scheduledTime: 'Scheduled Time',
    actions: 'Actions',
    noTasks: "No scheduled tasks. Assign one conversationally or create one manually.",
    cancel: 'Cancel',
    // Task Details View
    backToTasks: 'Back to Tasks',
    taskNotFound: 'Task not found. Please select a task from the list.',
    taskId: 'Task ID',
    activate: 'Activate',
    deactivate: 'Deactivate',
    taskLogsHistory: 'Task Logs & History',
    noLogs: 'No log history for this task yet.',
    searchLogsPlaceholder: 'Search logs...',
    noMatchingLogs: 'No logs match your filter criteria.',
    // History View
    historyTitle: 'History',
    historyDesc: 'Review past conversations and autonomous project workflows.',
    chatHistory: 'Chat History',
    projects: 'Projects',
    deleteChat: 'Delete Chat',
    deleteConfirmationMessage: 'Are you sure you want to delete the chat session',
    noChatHistory: 'No chat history found.',
    projectStartDate: 'Start Date',
    agentsInvolved: 'Agents Involved',
    viewDetails: 'View Details',
    noProjects: 'No projects found. Complex tasks will be logged here.',
    // Web Automation View
    webAutomationTitle: 'Web Automation',
    webAutomationDesc: 'Automate browser tasks with agents. Launch a new session or run a recorded flow.',
    launchNewSession: 'Launch New Session',
    enterUrl: 'Enter URL to start...',
    launch: 'Launch',
    recordedFlows: 'Recorded Flows',
    runFlow: 'Run Flow',
    liveSession: 'Live Automation Session',
    commandList: 'Command List',
    browserView: 'Browser View',
    logsAndData: 'Logs & Extracted Data',
    command: 'Command',
    target: 'Target',
    endSession: 'End Session',
    noFlows: 'No recorded flows found.',
    // Web Intelligence (In-Chat)
    missionInProgress: 'Web Intelligence Mission in Progress',
    planning: 'Planning',
    searching: 'Searching',
    crawlingExtracting: 'Crawling & Extrayendo',
    synthesizing: 'Synthesizing',
    completed: 'Completed',
    discoveredUrls: 'Discovered URLs',
    extractedInsights: 'Extracted Insights',
    finalReport: 'Final Report',
    // Web Intelligence View
    webIntelligenceTitle: 'Web Intelligence',
    webIntelligenceDesc: 'Launch deep research missions to gather, analyze, and synthesize information from the web.',
    launchNewMission: 'Launch New Mission',
    enterMissionQuery: 'Enter mission query...',
    pastMissions: 'Past Missions',
    noMissions: 'No past missions found.',
    missionStatus: 'Mission Status',
    // File Manager View
    fileManagerDesc: 'Create, edit, and organize documents, spreadsheets, and code.',
    createNew: 'Create New',
    name: 'Name',
    lastModified: 'Last Modified',
    type: 'Type',
    rename: 'Rename',
    folderIsEmpty: 'This folder is empty.',
    backToFileManager: 'Back to File Manager',
    editing: 'Editing',
    folder: 'Folder',
    spreadsheet: 'Spreadsheet',
    presentation: 'Presentation',
    code: 'Code',
    // System Operations View
    systemOperationsDesc: 'Execute sandboxed command-line operations and manage system resources.',
    terminalPlaceholder: 'Type a command...',
    // Voice Agent View
    voiceAgentTitle: 'Voice Agent',
    voiceAgentDesc: 'A dedicated, private space for voice interaction and automatic note-taking.',
    startRecording: 'Start Recording',
    stopRecording: 'Stop Recording',
    liveTranscript: 'Live Transcript',
    automaticNotes: 'Automatic Notes',
    saveNotes: 'Save Notes',
    clearSession: 'Clear Session',
    transcriptPlaceholder: 'Start recording to see live transcription...',
    notesPlaceholder: 'Ideas, tasks, and plans will appear here automatically...',
    notesSavedTo: 'Notes Saved',
    voiceChatSession: 'Voice Chat Session',
    typeOrSpeak: 'Type a message or start recording...',
    idea: 'Idea',
    task: 'Task',
    plan: 'Plan',
    // Settings View
    settingsTitle: 'Settings',
    settingsDesc: 'Manage security, API keys, and OAuth connections.',
    apiKeys: 'API Keys',
    apiKeysDesc: 'Manage API keys for external LLM providers. Keys are stored securely.',
    geminiKey: 'Gemini API Key',
    gptKey: 'OpenAI GPT Key',
    claudeKey: 'Claude API Key',
    save: 'Save',
    cloudConnections: 'API Integrations',
    cloudConnectionsDesc: 'Connect and manage access to your external services.',
    google_workspace: 'Google Workspace',
    microsoft_365: 'Microsoft 365',
    slack: 'Slack',
    github: 'GitHub',
    notion: 'Notion',
    discord: 'Discord',
    teams: 'Microsoft Teams',
    airtable: 'Airtable',
    trello: 'Trello',
    aws: 'Amazon Web Services',
    zapier: 'Zapier',
    connected: 'Connected',
    notConnected: 'Not Connected',
    disconnect: 'Disconnect',
    connect: 'Connect',
    language: 'Language / Idioma',
    languageDesc: 'Choose the interface language.',
    defaultDownloadLocation: 'Default Download Location',
    defaultDownloadLocationDesc: 'Choose where files generated by agents are saved.',
    saveTo: 'Save to:',
    change: 'Change',
    useDefaultDownloadFolder: 'Use default download folder',
    downloadPathUpdated: (path: string) => `✅ Download path updated. All files will be saved to: ${path}`,
    downloadPathError: '❌ Cannot access this folder. Please choose a valid location.',
    enterNewPathPrompt: 'Enter the new download path:',
    // Confirmation Modal
    actionRequired: 'Action Required',
    agentApproval: 'An agent requires your approval to proceed.',
    agentApprovalMessage: (agentName: string) => `Agent ${agentName} requests approval for a critical file system operation.`,
    approve: 'Approve',
  },
  es: {
    // Sidebar
    dashboard: 'Panel de Control',
    chat: 'Chat',
    scheduledTasks: 'Tareas Programadas',
    settings: 'Configuración',
    history: 'Historial',
    webAutomation: 'Automatización Web',
    fileManager: 'Gestor de Archivos',
    systemOperations: 'Operaciones del Sistema',
    voiceAgent: 'Agente de Voz',
    autonomousStudio: 'Estudio Autónomo',
    // Dashboard
    agentDashboard: 'Panel de Agentes',
    agentDashboardDesc: 'Estado en tiempo real del equipo de agentes Onwrk-AI.',
    cpuUsage: 'Uso de CPU',
    ramUsage: 'Uso de RAM',
    llmPrefill: 'Prefill LLM',
    llmDecode: 'Decode LLM',
    systemPerformance: 'Rendimiento del Sistema',
    // Agent Management
    addAgent: 'Añadir Agente',
    editAgent: 'Editar Agente',
    createAgent: 'Crear Agente',
    saveChanges: 'Guardar Cambios',
    deleteAgent: 'Eliminar Agente',
    addAgentDesc: 'Configura un nuevo agente para que se una a tu equipo.',
    editAgentDesc: 'Actualiza la configuración del agente.',
    agentName: 'Nombre del Agente',
    agentNamePlaceholder: 'Ej: AgenteAnalistaDeDatos',
    agentType: 'Tipo de Agente',
    initialTask: 'Tarea Inicial',
    initialTaskPlaceholder: 'Ej: En espera de instrucciones del usuario.',
    errorAgentType: 'Por favor, selecciona un tipo de agente.',
    errorAgentName: 'Por favor, introduce un nombre para el agente.',
    errorAgentExists: (name: string) => `Ya existe un agente con el nombre '${name}'.`,
    confirmDeleteAgent: (name: string) => `¿Estás seguro de que quieres eliminar al agente "${name}"? Esta acción no se puede deshacer.`,
    customGGUFModel: 'Modelo GGUF Personalizado (Opcional)',
    ggufModelDesc: 'Asigna un archivo de modelo GGUF local para que lo use este agente.',
    uploadGGUF: 'Subir archivo .gguf',
    noFileSelected: 'No se ha seleccionado ningún archivo',
    invalidFileType: 'Tipo de archivo no válido. Por favor, selecciona un archivo .gguf.',
    model: 'Modelo',
    // Agent Deactivation
    deactivateAgent: 'Desactivar Agente',
    deactivateAgentDesc: 'Elige cuánto tiempo desactivar el agente. No realizará tareas mientras esté inactivo.',
    deactivateFor: 'Desactivar por...',
    '15mins': '15 Minutos',
    '1hour': '1 Hora',
    '8hours': '8 Horas',
    '24hours': '24 Horas',
    indefinitely: 'Indefinidamente',
    reactivatingIn: 'Reactivando en:',
    agentInactive: 'El agente está inactivo.',
    reactivatedAutomatically: 'Reactivado automáticamente.',
    // Chat View
    agenChat: 'Chat de Agente',
    agentMode: 'Modo Agente',
    dragAndDrop: 'Arrastra y suelta un archivo o haz clic para seleccionar',
    typeInstruction: 'Escribe tu instrucción aquí...',
    sendMessage: 'Enviar Mensaje',
    image: 'Imagen',
    video: 'Video',
    audio: 'Audio',
    document: 'Documento',
    cannotSendEmptyMessage: 'No se puede enviar un mensaje vacío.',
    toggleDeepReasoning: 'Activar Razonamiento Profundo',
    deepReasoningActive: 'Razonamiento Profundo Activo...',
    analyzingDeeply: '🧠 Onwrk-Agen está analizando tu solicitud en profundidad...',
    toggleWebIntelligence: 'Activar Inteligencia Web',
    webIntelligenceActive: 'Inteligencia Web Activa...',
    // Assign Task Modal
    assignNewTask: 'Asignar Nueva Tarea',
    assignNewTaskDesc: 'Completa los detalles a continuación para crear y programar una nueva tarea para tus agentes.',
    createTask: 'Crear Tarea',
    attachFiles: 'Adjuntar Archivos',
    errorMandatoryFields: 'Por favor, rellena la descripción y selecciona al menos un agente.',
    // Form Labels
    taskDescription: 'Descripción de la Tarea',
    taskDescriptionPlaceholder: 'Ej: Investigar ganancias del Q3 para el competidor X y resumir hallazgos.',
    selectAgents: 'Seleccionar Agentes',
    priority: 'Prioridad',
    low: 'Baja',
    medium: 'Media',
    high: 'Alta',
    estimatedTime: 'Tiempo Estimado',
    estimatedTimePlaceholder: 'Ej: 2 horas',
    startTask: 'Iniciar Tarea',
    // Task Suggestions
    taskSuggestion: 'Sugerencia de Tarea',
    apiActionSuggestion: 'Sugerencia de Acción API',
    webMissionSuggestion: 'Misión de Inteligencia Web',
    missionQuery: 'Consulta de Misión',
    action: 'Acción',
    service: 'Servicio',
    description: 'Descripción',
    agents: 'Agentes',
    accept: 'Aceptar',
    reject: 'Rechazar',
    taskAccepted: 'Tarea aceptada y añadida a la programación.',
    taskRejected: 'Sugerencia de tarea rechazada.',
    // Deep Reasoning
    deepReasoning: 'Razonamiento Profundo',
    decomposingProblem: 'Descomponiendo Problema',
    evaluatingHypotheses: 'Evaluando Hipótesis',
    simulatingOutcomes: 'Simulando Resultados',
    synthesizingSolution: 'Sintetizando Solución',
    objective: 'Objetivo',
    keyAssumptions: 'Supuestos Clave',
    optionsEvaluated: 'Opciones Evaluadas',
    recommendation: 'Recomendación',
    // Scheduled Tasks View
    scheduledTasksTitle: 'Tareas Programadas',
    scheduledTasksDesc: 'Monitorea y gestiona todas las tareas automatizadas de los agentes.',
    taskQueue: 'Cola de Tareas',
    taskName: 'Nombre de la Tarea',
    assignedAgents: 'Agentes Asignados',
    status: 'Estado',
    scheduledTime: 'Hora Programada',
    actions: 'Acciones',
    noTasks: "No hay tareas programadas. Asigna una conversacionalmente o crea una manualmente.",
    cancel: 'Cancelar',
    // Task Details View
    backToTasks: 'Volver a Tareas',
    taskNotFound: 'Tarea no encontrada. Por favor, selecciona una tarea de la lista.',
    taskId: 'ID de Tarea',
    activate: 'Activar',
    deactivate: 'Desactivar',
    taskLogsHistory: 'Registros e Historial de Tarea',
    noLogs: 'Aún no hay historial de registros para esta tarea.',
    searchLogsPlaceholder: 'Buscar en registros...',
    noMatchingLogs: 'Ningún registro coincide con tus criterios de filtro.',
    // History View
    historyTitle: 'Historial',
    historyDesc: 'Revisa conversaciones pasadas y flujos de trabajo de proyectos autónomos.',
    chatHistory: 'Historial de Chat',
    projects: 'Proyectos',
    deleteChat: 'Eliminar Chat',
    deleteConfirmationMessage: '¿Estás seguro de que quieres eliminar la sesión de chat',
    noChatHistory: 'No se encontró historial de chat.',
    projectStartDate: 'Fecha de Inicio',
    agentsInvolved: 'Agentes Involucrados',
    viewDetails: 'Ver Detalles',
    noProjects: 'No se encontraron proyectos. Las tareas complejas se registrarán aquí.',
    // Web Automation View
    webAutomationTitle: 'Automatización Web',
    webAutomationDesc: 'Automatiza tareas de navegador con agentes. Lanza una nueva sesión o ejecuta un flujo grabado.',
    launchNewSession: 'Lanzar Nueva Sesión',
    enterUrl: 'Introduce una URL para empezar...',
    launch: 'Lanzar',
    recordedFlows: 'Flujos Grabados',
    runFlow: 'Ejecutar Flujo',
    liveSession: 'Sesión de Automatización en Vivo',
    commandList: 'Lista de Comandos',
    browserView: 'Vista del Navegador',
    logsAndData: 'Registros y Datos Extraídos',
    command: 'Comando',
    target: 'Objetivo',
    endSession: 'Terminar Sesión',
    noFlows: 'No se encontraron flujos grabados.',
    // Web Intelligence (In-Chat)
    missionInProgress: 'Misión de Inteligencia Web en Progreso',
    planning: 'Planificación',
    searching: 'Buscando',
    crawlingExtracting: 'Rastreando y Extrayendo',
    synthesizing: 'Sintetizando',
    completed: 'Completado',
    discoveredUrls: 'URLs Descubiertas',
    extractedInsights: 'Perspectivas Extraídas',
    finalReport: 'Informe Final',
    // Web Intelligence View
    webIntelligenceTitle: 'Inteligencia Web',
    webIntelligenceDesc: 'Lanza misiones de investigación profundas para recopilar, analizar y sintetizar información de la web.',
    launchNewMission: 'Lanzar Nueva Misión',
    enterMissionQuery: 'Introduce la consulta de la misión...',
    pastMissions: 'Misiones Pasadas',
    noMissions: 'No se encontraron misiones pasadas.',
    missionStatus: 'Estado de la Misión',
    // File Manager View
    fileManagerDesc: 'Crea, edita y organiza documentos, hojas de cálculo y código.',
    createNew: 'Crear Nuevo',
    name: 'Nombre',
    lastModified: 'Última Modificación',
    type: 'Tipo',
    rename: 'Renombrar',
    folderIsEmpty: 'Esta carpeta está vacía.',
    backToFileManager: 'Volver al Gestor de Archivos',
    editing: 'Editando',
    folder: 'Carpeta',
    spreadsheet: 'Hoja de cálculo',
    presentation: 'Presentación',
    code: 'Código',
    // System Operations View
    systemOperationsDesc: 'Ejecuta operaciones de línea de comandos en un entorno seguro y gestiona recursos del sistema.',
    terminalPlaceholder: 'Escribe un comando...',
    // Voice Agent View
    voiceAgentTitle: 'Agente de Voz',
    voiceAgentDesc: 'Un espacio privado y dedicado para la interacción por voz y la toma de notas automática.',
    startRecording: 'Iniciar Grabación',
    stopRecording: 'Detener Grabación',
    liveTranscript: 'Transcripción en Vivo',
    automaticNotes: 'Notas Automáticas',
    saveNotes: 'Guardar Notas',
    clearSession: 'Limpiar Sesión',
    transcriptPlaceholder: 'Inicia la grabación para ver la transcripción en vivo...',
    notesPlaceholder: 'Las ideas, tareas y planes aparecerán aquí automáticamente...',
    notesSavedTo: 'Notas Guardadas',
    voiceChatSession: 'Sesión de Chat de Voz',
    typeOrSpeak: 'Escribe un mensaje o empieza a grabar...',
    idea: 'Idea',
    task: 'Tarea',
    plan: 'Plan',
    // Settings View
    settingsTitle: 'Configuración',
    settingsDesc: 'Gestiona la seguridad, claves de API y conexiones OAuth.',
    apiKeys: 'Claves de API',
    apiKeysDesc: 'Gestiona las claves de API para proveedores LLM externos. Las claves se almacenan de forma segura.',
    geminiKey: 'Clave de API de Gemini',
    gptKey: 'Clave de OpenAI GPT',
    claudeKey: 'Clave de API de Claude',
    save: 'Guardar',
    cloudConnections: 'Integraciones de API',
    cloudConnectionsDesc: 'Conecta y gestiona el acceso a tus servicios externos.',
    google_workspace: 'Google Workspace',
    microsoft_365: 'Microsoft 365',
    slack: 'Slack',
    github: 'GitHub',
    notion: 'Notion',
    discord: 'Discord',
    teams: 'Microsoft Teams',
    airtable: 'Airtable',
    trello: 'Trello',
    aws: 'Amazon Web Services',
    zapier: 'Zapier',
    connected: 'Conectado',
    notConnected: 'No Conectado',
    disconnect: 'Desconectar',
    connect: 'Conectar',
    language: 'Idioma / Language',
    languageDesc: 'Elige el idioma de la interfaz.',
    defaultDownloadLocation: 'Ubicación de Descarga Predeterminada',
    defaultDownloadLocationDesc: 'Elige dónde se guardan los archivos generados por los agentes.',
    saveTo: 'Guardar en:',
    change: 'Cambiar',
    useDefaultDownloadFolder: 'Usar carpeta de descarga predeterminada',
    downloadPathUpdated: (path: string) => `✅ Ruta de descarga actualizada. Todos los archivos se guardarán en: ${path}`,
    downloadPathError: '❌ No se puede acceder a esta carpeta. Elige una ubicación válida.',
    enterNewPathPrompt: 'Introduce la nueva ruta de descarga:',
    // Confirmation Modal
    actionRequired: 'Acción Requerida',
    agentApproval: 'Un agente requiere tu aprobación para proceder.',
    agentApprovalMessage: (agentName: string) => `El agente ${agentName} solicita aprobación para una operación crítica del sistema de archivos.`,
    approve: 'Aprobar',
  },
};

// FIX: Implement and export the missing 'useTranslation' hook.
export const useTranslation = () => {
  const language = useAgentStore((state) => state.language);

  const t = (key: string, ...args: any[]): string => {
    const langTranslations: any = translations[language] || translations.en;
    const translationTemplate = langTranslations[key];
    
    if (typeof translationTemplate === 'function') {
      return translationTemplate(...args);
    }
    
    if (typeof translationTemplate === 'string') {
      return translationTemplate;
    }

    // Fallback to English if key not in current language
    const enTranslations: any = translations.en;
    const enTemplate = enTranslations[key];
    if (typeof enTemplate === 'function') {
      return enTemplate(...args);
    }
    if (typeof enTemplate === 'string') {
        return enTemplate;
    }

    return key; // Return key if not found
  };

  return { t, language };
};
